Enemy Mechanics by Lamdil begins here.

Part 2 - Enemy Mechanics
	


Chapter 1 - Inner Prison Enemies
		
The current hit points of the Deranged Prisoner is 4. The maximum hit points of the Deranged Prisoner is 4.
The Deranged Prisoner is hostile. 
The Deranged Prisoner carries a weapon called Broken Glass. The current turns of the Broken Glass is 1.
Setting action variables for an actor hitting:
	if the actor is Deranged Prisoner:
		if the blockTrue of the player is 0:
			now the damage inflicted is a random number between 3 and 5 minus the damageReduction of the player;
		otherwise:
			let x be the damageReduction of the player plus the damagePrevented of the player;
			now the damage inflicted is a random number between 3 and 5 minus x.
Every turn when the player is in the Prison Staircase: 
	if the Deranged Prisoner is hostile, try Deranged Prisoner hitting the player. 
Report Deranged Prisoner hitting the player:
	if the current turns of the Broken Glass is 0:
		say "The Deranged Prisoner gets ready to charge." instead;
	if the current turns of the Broken Glass is 1:
		if the dodgeTrue of the player is 1:
			say "The Deranged Prisoner charges past you and misses.";
			now the dodgeTrue is 0;
		otherwise if the parryTrue of the player is 1:
			say "The Deranged Prisoner is knocked off guard.[line break][line break]";
			if the Deranged Prisoner is dead:
				say "You riposte the Deranged Prisoner, dealing [riposteDamage of the player] damage![line break][line break]";
				say "The Deranged Prisoner writhes in pain before going limp.";
				now the Deranged Prisoner is nowhere;
				now the Deranged Prisoner is docile;
			otherwise:
				say "You riposte the Deranged Prisoner, dealing [riposteDamage of the player] damage!";
			now the parryTrue is 0;
		otherwise if the blockTrue of the the player is 1:
			if damage inflicted > 0:
				decrease the current hit points of the player by the damage inflicted;
				say "The Deranged Prisoner strikes your shield, dealing [damage inflicted] point[s] of damage!";
			otherwise:
				say "The Deranged Prisoner is unable to penetrate your shield.";
			now the blockTrue of the player is 0;
		otherwise if damage inflicted > 0:
			say "The Deranged Prisoner charges and slashes you with broken glass, dealing [damage inflicted] point[s] of damage!";
		otherwise:
			say "The Deranged Prisoner is unable to penetrate your armour.".	
Report hitting a dead Deranged Prisoner:
		say "The Deranged Prisoner writhes in pain before going limp." instead.

Report Deranged Prisoner hitting the player when the player is dead:
	now the current hit points of the player is 0; 
	say "The Deranged Prisoner quickly stabs your throat."; 
	end the story saying "The blood drains out your neck and you fall to the ground"; 
	stop the action.
Carry out Deranged Prisoner hitting the player:
	if the current turns of the Broken Glass is 1:
		now the player is hit;
		now the current turns of the Broken Glass is 0;
		stop the action;
	if the current turns of the Broken Glass is 0:
		now the player is notHit;
		if dodgeTrue of the player is 1:
			do nothing;
		otherwise if parryTrue of the player is 1:
			decrease the current hit points of the Deranged Prisoner by the riposteDamage of the player;
		otherwise if blockTrue of the player is 1:
			do nothing;
		otherwise if damage inflicted > 0:
			decrease the current hit points of the noun by the damage inflicted;
		now the current turns of the Broken Glass is 1;
		stop the action.	



The current hit points of the Warden is 25. The maximum hit points of the Warden is 25.
The Warden is docile. 
The Warden carries a weapon called Silver Sword. The current turns of the Silver Sword is 1.
The Warden has a number called dodgeHit. The dodgeHit of the Warden is 9.
The Warden has a number called chanceDodge. The chanceDodge of the Warden is 9.
wardenDodging is an action applying to nothing.
Carry out wardenDodging:
	let x be a random number between 1 and 20;
	if x <= 20 and x >= chanceDodge of the Warden:
		if the Warden is hit:
			say "The Warden laughs as he nimbly avoids your attack!";
			now dodgeHit of the Warden is 1;
	otherwise:
		if the Warden is hit:
			say "The Warden attempts to dodge your attack but its outmatched by your speed!";
			now the dodgeHit of the Warden is 0;
Setting action variables for an actor hitting:
	if the actor is Warden:
		if the blockTrue of the player is 0:
			now the damage inflicted is a random number between 9 and 13 minus the damageReduction of the player;
		otherwise:
			let x be the damageReduction of the player plus the damagePrevented of the player;
			now the damage inflicted is a random number between 3 and 5 minus x.
Every turn when the player is in the Warden's Room: 
	if the Warden is hostile, try Warden hitting the player. 
Report Warden hitting the player:
	if the current turns of the Silver Sword is 0:
		say "The Warden hoists his Silver Sword high into the air as it begins to draw in a massive amount of energy around it." instead;
	if the current turns of the Silver Sword is 1:
		if the dodgeTrue of the player is 1:
			say "The Warden unleashes a powerful beam of energy towards you, but you are able to quickly dodge it!";
			now the dodgeTrue is 0;
		otherwise if the parryTrue of the player is 1:
			say "Mustering all your strength you swing your weapon absorbing the incoming beam of energy and ready a counter attack![line break][line break]";
			if the Warden is dead:
				say "You riposte the Warden, dealing [riposteDamage of the player] damage![line break][line break]";
				say "The Warden clutches his chest as he breathes his last breath, and falls to the ground.";
				now the Warden is nowhere;
				now the Warden is docile;
			otherwise:
				say "You riposte the Warden, dealing [riposteDamage of the player] damage!";
			now the parryTrue is 0;
		otherwise if the blockTrue of the the player is 1:
			if damage inflicted > 0:
				decrease the current hit points of the player by the damage inflicted;
				say "A crackling beam of energy is hurled towards you from the Warden's Silver Sword and connects with your shield. You aren't able to absorb all of it dealing [damage inflicted] point[s] of damage!";
			otherwise:
				say "The Warden is unable to penetrate your shield.";
			now the blockTrue of the player is 0;
		otherwise if damage inflicted > 0:
			say "The collected energy from the Warden's Silver Sword connects directly with your body, dealing a massive [damage inflicted] point[s] of damage!";
		otherwise:
			say "The Warden is unable to penetrate your armour.".	
Report hitting a dead Warden:
		say "The Warden clutches his chest as he breathes his last breath, and falls to the ground." instead.

Report Warden hitting the player when the player is dead:
	now the current hit points of the player is 0; 
	say "The brute strength of the Warden is too much for your body to handle as he constantly pummels your body. Your vision is beginning to fade."; 
	end the story saying "The Warden delivers a final blow to your head cutting it clean off. YOU DIED."; 
	stop the action.
Carry out Warden hitting the player:
	if the current turns of the Silver Sword is 1:
		now the player is hit;
		now the current turns of the Silver Sword is 0;
		stop the action;
	if the current turns of the Silver Sword is 0:
		now the player is notHit;
		if dodgeTrue of the player is 1:
			do nothing;
		otherwise if parryTrue of the player is 1:
			decrease the current hit points of the Warden by the riposteDamage of the player;
		otherwise if blockTrue of the player is 1:
			do nothing;
		otherwise if damage inflicted > 0:
			decrease the current hit points of the noun by the damage inflicted;
		now the current turns of the Silver Sword is 1;
		stop the action.	



	

Enemy Mechanics ends here.
