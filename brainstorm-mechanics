A person has a number called maximum hit points. A person has a number called current hit points. 
The maximum hit points of the player is 10. The maximum hit points of the Deranged Prisoner is 3. 
Definition: a person is dead if his current hit points are less than 0. 

Diagnosing is an action applying to one visible thing. Understand "diagnose [something]" as diagnosing. 

Check diagnosing: 
	if the noun is not a person, say "Only people can have diagnoses." instead. 
Carry out diagnosing: 
	say "[if the noun is the player]You have[otherwise][The noun] has[end if] [current hit points of the noun] out of a possible [maximum hit points of the noun] hit points remaining." 
	
A weapon is a kind of thing. A weapon has a number called the maximum damage. The maximum damage of a weapon is usually 2. 
The Deranged Prisoner carries a weapon called a fist. The maximum damage of the fist is 2.
The Rusty Spoon is a weapon. The maximum damage of the Rusty Spoon is 4. 

Understand the commands "attack" and "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as something new. 
Attacking it with is an action applying to one visible thing and one carried thing. Understand "attack [someone] with [something preferably held]" as attacking it with. 
Understand the commands "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as "attack". 

The attacking it with action has a number called the damage inflicted. 

Setting action variables for attacking something with something: 
	if the second noun is a weapon: 
		let the maximum attack be the maximum damage of the second noun; 
		now the damage inflicted is a random number between 2 and the maximum attack. 

Check an actor attacking something with something (this is the can't attack with something that isn't a weapon rule): 
	if the second noun is not a weapon: 
		if the actor is the player, say "[The second noun] does not qualify as a weapon."; 
		stop the action. 

Check an actor attacking something with something (this is the can't attack a non-person rule): 
	if the noun is not a person: 
		if the actor is the player, say "[The noun] has no life to lose."; 
		stop the action. 

Carry out an actor attacking something with something (this is the standard attacking it with a weapon rule): 
	decrease the current hit points of the noun by the damage inflicted; 
	if the noun is dead: 
		now the noun is nowhere. 
		
Report attacking a dead person with something (this is the death-report priority rule): 
	say "You attack with [the second noun], killing [the noun]." instead. 

Report attacking someone with something (this is the normal attacking report rule): 
	say "You attack [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

Report someone attacking the player with something when the player is dead (this is the player's-death priority rule): 
	say "[The actor] attacks you with [the second noun], your dead body drops to the floor..."; 
	end the story; 
	stop the action 

Report someone attacking the player with something (this is the standard report someone attacking the player with rule): 
	say "[The actor] attacks you with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

Report someone attacking something with something (this is the standard report attacking it with rule): 
	say "[The actor] attacks [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

When play begins: 
	now the left hand status line is "You: [current hit points of player]"; 
	now the right hand status line is "Deranged Prisoner: [current hit points of Deranged Prisoner]". 

Every turn (this is the Deranged Prisoner-attack rule): 
	if the Deranged Prisoner is not dead, try the Deranged Prisoner attacking the player with a random weapon which is carried by the Deranged Prisoner. 
