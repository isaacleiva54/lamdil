Chapter 1 - Player

A person has a number called maximum hit points. A person has a number called current hit points. 
A person can be hostile or docile. A person is usually docile. The player is docile. 
Definition: a person is dead if their current hit points are less than 1.
Definition: a person is docile if a person is dead.
A gotHit is a kind of value. The gotHits are hit, notHit. The player has a gotHit. The player is notHit.
A nowAttack is a kind of value. The nowAttacks are yesAttack, noAttack. The player has a nowAttack. The player is noAttack.

The current hit points of the player is 20. The maximum hit points of the player is 20.
Carry out the player attacking player with something (this is the standard attacking player with a weapon rule): 
	decrease the current hit points of the player by the damage inflicted; 
	if the current hit points of the player <= 0:
		now the current hit points of the player is 0;
		end the story saying "You accidentally commit suicide";
		stop the action.
		
Chapter 2 - Dodging

The player has a number called dodgeTrue. The dodgeTrue of the player is 0.
The player has a number called minDodge. The minDodge of the player is 18.
Understand "dodge" and "evade" and "do" as dodging. Dodging is an action applying to nothing.
Check dodging:
	if the player is not hostile:
		say "You are not engaged in combat.";
		stop the action.
Carry out dodging:
	let x be a random number between minDodge of the player and 20;
	if x is 20:
		if the player is hit:
			say "You swiftly evade the attack.";
			now dodgeTrue of the player is 1;
		otherwise:
			say "You dodged too early.";
			now the dodgeTrue of the player is 0;
	otherwise:
		if the player is hit:
			say "You are too slow to avoid the hit.";
			now the dodgeTrue of the player is 0;
		otherwise:
			say "You dodged too early.";
			now the dodgeTrue of the player is 0.
			
Chapter 3 - Blocking

The player has a number called blockTrue. The blockTrue of the player is 0.
The player has a number called maxBlock. The maxBlock of the player is 0.
Understand "block" and "guard" and "b" as blocking. Blocking is an action applying to nothing.
Check blocking:
	if the player is not hostile:
		say "You are not engaged in combat.";
		stop the action;
	otherwise if the player is not wearing a shield:
		say "You can't block with your current equipment.";
		stop the action.
Carry out blocking:
	if maxBlock of the player > 0:
		if the player is hit:
			say "You block the attack, preventing [damagePrevented of the player] point[s] of damage!";
			now the blockTrue of the player is 1;
			decrease maxBlock of the player by 1;
		otherwise:
			say "You blocked too early.";
			now the blockTrue of the player is 0;
	otherwise:
		say "Your shield has broken from taking too many hits.";
		now the blockTrue of the player is 0.

Chapter 4 - Parrying

The player has a number called parryTrue. The parryTrue of the player is 0.
The player has a number called minParry. The minParry of the player is 16.
The player has a number called riposteDamage. The riposteDamage of the player is 5.
Understand "parry" and "counter" and "riposte" and "p" as parrying. Parrying is an action applying to nothing.
Check parrying:
	if the player is not hostile:
		say "You are not engaged in combat.";
		stop the action.
Carry out parrying:
	let x be a random number between minParry of the player and 20;
	if x is 20:
		if the player is hit:
			say "You fend off the attack.";
			now the parryTrue of the player is 1;
		otherwise:
			say "You parried too early.";
			now the parryTrue of the player is 0;
	otherwise:
		if the player is hit:
			say "You greatly mistime the counter.";
			now the parryTrue of the player is 0;
		otherwise:
			say "You parried too early.";
			now the parryTrue of the player is 0.
