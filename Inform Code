"LAMDIL ALPHA 1.0" by Liam Abalos, Minh Dinh, and Isaac Leiva
Chapter 1 - Lower Prison

The Cell is a room. "You wake up in a cell." 

North of the Cell is a room called the Intersection. The Intersection is a room. "There is a locked door to your east and an open room to your west and a hallway to the north."

The Iron Door is east of the Intersection and west of the Armoury. The Iron Door is a door. The Iron Door is lockable and locked. The matching key of the Iron Door is the Iron Key. The Armoury is a room. In the Armoury is a object called the Rusty Sword. "You see a Rusty Sword on the floor."

West of Intersection is a room called the Guard's Room. In the Guard's Room is a thing called the Iron Key. "There is something shiny in the corner."

North of the Intersection is a room called the Hallway. The Hallway is a room."Ahead of you there is a staircase."

North of the Hallway is a room called the Staircase. The Staircase is a room."Above you, you hear a rattling of chains and footsteps."

Above the Staircase is a room called the Warden's Chamber. In the Warden's Chamber is a man called The Warden. The Warden wears a chainmail armour. The Warden carries a steel sword. "You see the warden charging at you with a sword."

A person has a number called maximum hit points. A person has a number called current hit points.

The maximum hit points of the player is 20. The maximum hit points of The Warden is 50.
The current hit points of the player is 20. The current hit points of The Warden is 50.

"LAMDIL ALPHA 2.0"
Cell 6 is a room. "You wake up in your cell." 
Cell 5 is west of Cell 6. Cell 5 is a room. "An old friend used to be here."
Cell 7 is east of Cell 6. Cell 7 is a room. "The cell is cold and lonely."
Cell 2 is north of Cell 6. Cell 2 is a room."There's gotta be a way out of here."
Cell 1 is west of Cell 2. Cell 1 is a room.  There is a Cell Key in Cell 1. "You something shiny in the corner of the cell." 
Cell 3 is east of Cell 2. Cell 3 is a room. "You see a door in the next cell."
Cell 4 is east of Cell 3. Cell 4 is a room. "It's been a while since you left these cells."
Cell 8 is south of Cell 4. Cell 8 is a room. "You see a dead body." There is a Rusty Spoon in Cell 8.
The Cell Door is east of Cell 4. The Cell Door is a door. The Cell Door is locked. The Cell Key unlocks the Cell Door. 
The Prison Staircase is east of the Cell Door. The Prison Staircase is a room. "You hear a thudding upstairs."
A Deranged Prisoner is a man in the Prison Staircase. "Quick! A deranged prisoner is charging at you."
The Captain's Staircase is a room above the Prison Staircase. "There is no soul in sight, yet the air is warm as if someone just scurried away in a rush. To the west you see a door slightly ajar and to the east is a great big Iron Door."
The Guard's Room is west of the Captain's Staircase. The Guard's Room is a room. "You see beds and tables scrawled across the room. There are chests full of private belongings."
In the Guard's Room is an openable container called the Guard's Chest. The Guard's Chest is closed. "[if open]You see an Iron Key.[else]The Guard's Chest is closed." In the Guard's Chest is a thing called the Iron Key.
Rule for printing the name of the Guard's Chest: 
	say "[printed name of Guard's Chest]";
	omit contents in listing.
The Iron Door is east of the Captain's Staircase and west of the Armoury. The Iron Door is a door. The Iron Door is lockable locked. The Iron Key unlocks the Iron Door. The Armoury is a room. "You see only a few weapons and pieces of gear around the room. You conclude the room was looted." In the Armoury is a Rusty Sword and a Wooden Shield.
North of the Captain's Staircase is a Hallway. The Hallway is a room. The flaming torch is in the Hallway. The flaming torch is lit. "Ahead of you is a dark room. You see a flaming torch on the wall."
North of the Hallway is the Warden's Staircase. The Warden's Staircase is a dark room. "Above you hear the sounds of chains rattling and heavy thuds running across the floor."
Above the Warden's Staircase is a room called the Warden's Room.

Section 2 - Diagnosis

Diagnosing is an action applying to one visible thing. Understand "diagnose [something]" as diagnosing.

Check diagnosing: 
	if the noun is not a person, say "Only people can have diagnoses." instead.
Carry out diagnosing: 
	say "[if the noun is the player]You have[otherwise][The noun] has[end if] [current hit points of the noun] out of a possible [maximum hit points of the noun] hit points remaining."

Section 3 - Weapons

A weapon is a kind of thing. A weapon has a number called the maximum damage. The maximum damage of a weapon is usually 4.

The Warden carries a weapon called a steel sword . The maximum damage of the steel sword is 5. 

The Rusty Sword is a weapon. The maximum damage of the Rusty Sword is 13.

Section 4 - Attacking it with

Understand the commands "attack" and "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as something new.

Attacking it with is an action applying to one visible thing and one carried thing. Understand "attack [someone] with [something preferably held]" as attacking it with.

Understand the commands "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as "attack".

The attacking it with action has a number called the damage inflicted.
Setting action variables for attacking something with something: 
	if the second noun is a weapon: 
		let the maximum attack be the maximum damage of the second noun; 
		now the damage inflicted is a random number between 1 and the maximum attack.
Check an actor attacking something with something (this is the can't attack with something that isn't a weapon rule): 
	if the second noun is not a weapon: 
		if the actor is the player, say "[The second noun] does not qualify as a weapon."; 
		stop the action.
Check an actor attacking something with something (this is the can't attack a non-person rule): 
	if the noun is not a person: 
		if the actor is the player, say "[The noun] has no life to lose."; 
		stop the action.
Carry out an actor attacking something with something (this is the standard attacking it with a weapon rule): 
	decrease the current hit points of the noun by the damage inflicted; 
	say "You attack [the noun], causing [damage inflicted] points of damage!"; 
	if the current hit points of the noun is less than 0:
		say "[line break][The noun] falls to his knees and breathes his last breath as he collapses onto the floor. The room trembles under his weight as he fizzles into nothing."; 
		now the noun is nowhere; 
		end the story finally;
		stop the action;
	 let the enemy damage be a random number between 3 and 5; 
	say "[line break][The noun] attacks you, causing [enemy damage] points of damage!"; 
	decrease the current hit points of the player by the enemy damage; 
	if the current hit points of the player is less than 0: 
		say "[line break]YOU DIED!"; 
		end the story.

"LAMDIL ALPHA 2.1"
Cell 6 is a room. "You wake up in your cell." 
Cell 5 is west of Cell 6. Cell 5 is a room. "An old friend used to be here."
Cell 7 is east of Cell 6. Cell 7 is a room. "The cell is cold and lonely."
Cell 2 is north of Cell 6. Cell 2 is a room."There's gotta be a way out of here."
Cell 1 is west of Cell 2. Cell 1 is a room.  There is a Cell Key in Cell 1. "You something shiny in the corner of the cell." 
Cell 3 is east of Cell 2. Cell 3 is a room. "You see a door in the next cell."
Cell 4 is east of Cell 3. Cell 4 is a room. "It's been a while since you left these cells."
Cell 8 is south of Cell 4. Cell 8 is a room. "You see a dead body." There is a Rusty Spoon in Cell 8.
The Cell Door is east of Cell 4. The Cell Door is a door. The Cell Door is locked. The Cell Key unlocks the Cell Door. 
The Prison Staircase is east of the Cell Door. The Prison Staircase is a room. "You hear a thudding upstairs."
A Deranged Prisoner is a man in the Prison Staircase. "Quick! A deranged prisoner is charging at you."
The Captain's Staircase is a room above the Prison Staircase. "There is no soul in sight, yet the air is warm as if someone just scurried away in a rush. To the west you see a door slightly ajar and to the east is a great big Iron Door."
The Guard's Room is west of the Captain's Staircase. The Guard's Room is a room. "You see beds and tables scrawled across the room. There are chests full of private belongings."
In the Guard's Room is an openable container called the Guard's Chest. The Guard's Chest is closed. "[if open]You see an Iron Key.[else]The Guard's Chest is closed." In the Guard's Chest is a thing called the Iron Key.
Rule for printing the name of the Guard's Chest: 
	say "[printed name of Guard's Chest]";
	omit contents in listing.
The Iron Door is east of the Captain's Staircase and west of the Armoury. The Iron Door is a door. The Iron Door is lockable locked. The Iron Key unlocks the Iron Door. The Armoury is a room. "You see only a few weapons and pieces of gear around the room. You conclude the room was looted." In the Armoury is a Rusty Sword and a Wooden Shield.
North of the Captain's Staircase is a Hallway. The Hallway is a room. The flaming torch is in the Hallway. The flaming torch is lit. "Ahead of you is a dark room. You see a flaming torch on the wall."
North of the Hallway is the Warden's Staircase. The Warden's Staircase is a dark room. "Above you hear the sounds of chains rattling and heavy thuds running across the floor."
Above the Warden's Staircase is a room called the Warden's Room.








A person has a number called maximum hit points. A person has a number called current hit points. 
The maximum hit points of the player is 10. The maximum hit points of the Deranged Prisoner is 3. 
The current hit points of the player is 10. The current hit points of the Deranged Prisoner is 3.
Definition: a person is dead if his current hit points are less than 0. 

Diagnosing is an action applying to one visible thing. Understand "diagnose [something]" as diagnosing. 

Check diagnosing: 
	if the noun is not a person, say "Only people can have diagnoses." instead. 
Carry out diagnosing: 
	say "[if the noun is the player]You have[otherwise][The noun] has[end if] [current hit points of the noun] out of a possible [maximum hit points of the noun] hit points remaining." 
	
A weapon is a kind of thing. A weapon has a number called the maximum damage. The maximum damage of a weapon is usually 2. 
The Deranged Prisoner carries a weapon called a fist. The maximum damage of the fist is 2.
The Rusty Spoon is a weapon. The maximum damage of the Rusty Spoon is 4. 

Understand the commands "attack" and "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as something new. 
Attacking it with is an action applying to one visible thing and one carried thing. Understand "attack [someone] with [something preferably held]" as attacking it with. 
Understand the commands "punch" and "destroy" and "kill" and "murder" and "hit" and "thump" and "break" and "smash" and "torture" and "wreck" as "attack". 

The attacking it with action has a number called the damage inflicted. 

Setting action variables for attacking something with something: 
	if the second noun is a weapon: 
		let the maximum attack be the maximum damage of the second noun; 
		now the damage inflicted is a random number between 2 and the maximum attack. 

Check an actor attacking something with something (this is the can't attack with something that isn't a weapon rule): 
	if the second noun is not a weapon: 
		if the actor is the player, say "[The second noun] does not qualify as a weapon."; 
		stop the action. 

Check an actor attacking something with something (this is the can't attack a non-person rule): 
	if the noun is not a person: 
		if the actor is the player, say "[The noun] has no life to lose."; 
		stop the action. 

Carry out an actor attacking something with something (this is the standard attacking it with a weapon rule): 
	decrease the current hit points of the noun by the damage inflicted; 
	if the noun is dead: 
		now the noun is nowhere. 
		
Report attacking a dead person with something (this is the death-report priority rule): 
	say "You attack with [the second noun], killing [the noun]." instead. 

Report attacking someone with something (this is the normal attacking report rule): 
	say "You attack [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

Report someone attacking the player with something when the player is dead (this is the player's-death priority rule): 
	say "[The actor] attacks you with [the second noun], your dead body drops to the floor..."; 
	end the story; 
	stop the action 

Report someone attacking the player with something (this is the standard report someone attacking the player with rule): 
	say "[The actor] attacks you with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

Report someone attacking something with something (this is the standard report attacking it with rule): 
	say "[The actor] attacks [the noun] with [the second noun], causing [damage inflicted] point[s] of damage!" instead. 

Prison Staircase Fight is a scene.
Prison Staircase Fight begins when the player is in the Prison Staircase.
When Prison Staircase Fight begins: 
	now the left hand status line is "You: [current hit points of player]"; 
	now the right hand status line is "Deranged Prisoner: [current hit points of Deranged Prisoner]". 
	
Every turn when the player is in the Prison Staircase (this is the Deranged Prisoner-attack rule): 
	if the current hit points of the Deranged Prisoner is greater than 0, try the Deranged Prisoner attacking the player with a random weapon which is carried by the Deranged Prisoner. 
	
